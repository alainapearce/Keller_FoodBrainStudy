[
    [
        "Nback_file",
        [
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-028/ses-2/beh/sub-028_ses-2_task-nback0_events.tsv",
                    "dceebe0d5424e9ad35671728e6fb6ff3"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-028/ses-2/beh/sub-028_ses-2_task-nback1_events.tsv",
                    "5d35026617cdc2acea729347a433b20a"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-028/ses-2/beh/sub-028_ses-2_task-nback2_events.tsv",
                    "94169626bc43ee0e5736229c17b9e973"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-022/ses-2/beh/sub-022_ses-2_task-nback0_events.tsv",
                    "fbb222b42254dea88d8139736e9833ad"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-022/ses-2/beh/sub-022_ses-2_task-nback1_events.tsv",
                    "6e728aae5a481decf10454303fc721ca"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-022/ses-2/beh/sub-022_ses-2_task-nback2_events.tsv",
                    "33e68a58ec9e1086c5499288a98ee555"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-007/ses-2/beh/sub-007_ses-2_task-nback0_events.tsv",
                    "ee96bcc842c695663629fd64cd4bcb88"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-007/ses-2/beh/sub-007_ses-2_task-nback1_events.tsv",
                    "9e58ab731c7a140da56e4c5e9330a317"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-007/ses-2/beh/sub-007_ses-2_task-nback2_events.tsv",
                    "4805ef7e83a749d278d5900b679c5ebb"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-026/ses-2/beh/sub-026_ses-2_task-nback0_events.tsv",
                    "9e4879467ab0dc915d0fc2ff3b44bac7"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-026/ses-2/beh/sub-026_ses-2_task-nback1_events.tsv",
                    "b663fee0ee8742e0439e5b47c778891b"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-026/ses-2/beh/sub-026_ses-2_task-nback2_events.tsv",
                    "3b7f5bcd01787288a56c064cf641b59b"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-006/ses-2/beh/sub-006_ses-2_task-nback0_events.tsv",
                    "0ba6a73e4a30b9ba2a33f74e047313a6"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-006/ses-2/beh/sub-006_ses-2_task-nback1_events.tsv",
                    "38b23651e380f40aeeb06d4f6b765afb"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-005/ses-2/beh/sub-005_ses-2_task-nback0_events.tsv",
                    "0bded964cfa3217e0887149ee7319ff8"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-005/ses-2/beh/sub-005_ses-2_task-nback1_events.tsv",
                    "fe499e9e35dc3659e5b583abde248220"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-005/ses-2/beh/sub-005_ses-2_task-nback2_events.tsv",
                    "58c5bacc2dac01aae936983c98429354"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-002/ses-2/beh/sub-002_ses-2_task-nback0_events.tsv",
                    "8126b403ef43405189de2170a5623cd9"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-002/ses-2/beh/sub-002_ses-2_task-nback1_events.tsv",
                    "7025e197e42816821b0cfb844fbccb62"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-002/ses-2/beh/sub-002_ses-2_task-nback2_events.tsv",
                    "c69acb74c6ec4286231487e8a91abbf2"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-023/ses-2/beh/sub-023_ses-2_task-nback0_events.tsv",
                    "f481f3cac6ea10d3ed7f58d5c5dc4fef"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-023/ses-2/beh/sub-023_ses-2_task-nback1_events.tsv",
                    "1b8b8678f7a6d49c5e39efa87ce06489"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-023/ses-2/beh/sub-023_ses-2_task-nback2_events.tsv",
                    "b5939fb1c9eee35f7d03fcfb2457495b"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-037/ses-2/beh/sub-037_ses-2_task-nback0_events.tsv",
                    "5b7859335900d904e39fa8a337fb0a89"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-037/ses-2/beh/sub-037_ses-2_task-nback1_events.tsv",
                    "8bbd920f4e65a73d759fe0b5e8f72072"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-037/ses-2/beh/sub-037_ses-2_task-nback2_events.tsv",
                    "b33788b16ef570a378e48a303208a81a"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-018/ses-2/beh/sub-018_ses-2_task-nback0_events.tsv",
                    "b10969d4df46999c7cd1a869156aedc6"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-018/ses-2/beh/sub-018_ses-2_task-nback1_events.tsv",
                    "046dc5e2398648e8e9f449a56a55b0ef"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-018/ses-2/beh/sub-018_ses-2_task-nback2_events.tsv",
                    "49f4ea8a32c9a6f7086ecb23cf07c4dc"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-003/ses-2/beh/sub-003_ses-2_task-nback0_events.tsv",
                    "07560cbf6a202b4926cc2f8d8d995b6d"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-003/ses-2/beh/sub-003_ses-2_task-nback1_events.tsv",
                    "067596bbb539095926bf1cda734ddcad"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-003/ses-2/beh/sub-003_ses-2_task-nback2_events.tsv",
                    "fb1aa6ffb5f59d6456edec707ec5727f"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-040/ses-2/beh/sub-040_ses-2_task-nback0_events.tsv",
                    "bed4f4ec4105770460a3715cfd1e2305"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-040/ses-2/beh/sub-040_ses-2_task-nback1_events.tsv",
                    "38bbe395bba8b1ebf0116d2bf5bf8a73"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-040/ses-2/beh/sub-040_ses-2_task-nback2_events.tsv",
                    "051a4b60f368a482310dc5d06aa3e42d"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-035/ses-2/beh/sub-035_ses-2_task-nback0_events.tsv",
                    "3ecc113fd47216e09fc63d6b66e2b0d7"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-035/ses-2/beh/sub-035_ses-2_task-nback1_events.tsv",
                    "84f22a6ac137e1e0233747485c15bfbb"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-035/ses-2/beh/sub-035_ses-2_task-nback2_events.tsv",
                    "4d788875cfdbfd214145ae4e013ab1cd"
                ]
            ],
            [
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-011/ses-2/beh/sub-011_ses-2_task-nback0_events.tsv",
                    "d4cb8f8de0fa61af82b1f018bff56ca6"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-011/ses-2/beh/sub-011_ses-2_task-nback1_events.tsv",
                    "fbcdb454c30c5c7ac90ea21d2b7a6e6f"
                ],
                [
                    "/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-011/ses-2/beh/sub-011_ses-2_task-nback2_events.tsv",
                    "63fd0e865498ad38eb965eaa6f40cb4b"
                ]
            ]
        ]
    ],
    [
        "function_str",
        "def summaryNback(Nback_file):\n    import numpy as np\n    import pandas as pd\n    from collections.abc import Iterable\n\n    #check if str\n    if isinstance(Nback_file, str):\n\n        #check to see if it is filepath str or 'No subfiles' message\n        if '.tsv' in Nback_file:\n            #if only 1 file, will be string and we want an array\n            Nback_file = [Nback_file]\n        else:\n            Nback_file = []\n\n    if len(Nback_file) > 0:\n\n        #loop counter\n        count = 1\n\n        for file in Nback_file:\n\n            #load data - loop throgh participant blockfiles\n            Nback_ProcData = pd.read_csv(str(file), sep = '\\t', encoding = 'utf-8-sig', engine='python') \n\n            #make Acc_Resp column\n            Nback_ProcData.fillna('', inplace=True)\n\n            Nback_ProcData.columns = Nback_ProcData.columns.str.replace('b0_', '')\n            Nback_ProcData.columns = Nback_ProcData.columns.str.replace('b1_', '')\n            Nback_ProcData.columns = Nback_ProcData.columns.str.replace('b2_', '')\n\n            Nback_ProcData['acc_resp'] = np.where(Nback_ProcData['correct'] == Nback_ProcData['stim_resp'], 1, 0)\n\n            Nback_ProcData['procedure_block'] = Nback_ProcData['procedure_block'].replace(['B0BlockProc','B0Block2Proc'],'b0')\n            Nback_ProcData['procedure_block'] = Nback_ProcData['procedure_block'].replace(['B1BlockProc','B1Block2Proc'],'b1')\n            Nback_ProcData['procedure_block'] = Nback_ProcData['procedure_block'].replace(['B2BlockProc','B2Block2Proc'],'b2')\n\n            #get target and fill datasets\n            Nback_Target = Nback_ProcData.groupby('condition').get_group('Target')\n            Nback_Fill = Nback_ProcData.groupby('condition').get_group('Fill')\n\n            #trial counts\n            nTarget = Nback_Target.shape[0]\n            nFill = Nback_Fill.shape[0]\n            nTrials = nTarget + nFill\n\n            #Accuracy\n            nAcc = Nback_Target['acc_resp'].sum(axis = 0) + Nback_Fill['acc_resp'].sum(axis = 0)\n            pAcc = (nAcc/nTrials)*100\n\n            #Go Hits/Misses \n            nTarget_Hit = Nback_Target['acc_resp'].sum(axis = 0)\n            pTarget_Hit = (nTarget_Hit/nTarget)*100\n\n            nTarget_Miss = nTarget - nTarget_Hit\n            pTarget_Miss = (nTarget_Miss/nTarget)*100\n\n            #NoGo Commissions (False Alarms)\n            nFill_Corr = Nback_Fill['acc_resp'].sum(axis = 0)\n            pFill_Corr = (nFill_Corr/nFill)*100\n\n            nFill_FA = nFill - nFill_Corr\n            pFill_FA = (nFill_FA/nFill)*100\n\n            #Ballanced Acc\n            pTarget_BA = (pTarget_Hit + pFill_Corr)/2\n\n            #mean and median RT\n            Nback_Target_correct = Nback_Target.groupby('acc_resp').get_group(1)\n\n            RTmeanTarget_Hit = Nback_Target_correct['stim_rt'].mean(axis = 0)\n            RTmedTarget_Hit = Nback_Target_correct['stim_rt'].median(axis = 0)\n\n            summaryNback_dat = [Nback_ProcData['sub'][0], Nback_ProcData['ses'][0], Nback_ProcData['procedure_block'][0], nTarget, nFill, nTrials, nAcc, pAcc, nTarget_Hit, pTarget_Hit, nTarget_Miss, pTarget_Miss, nFill_Corr, pFill_Corr, nFill_FA, pFill_FA, pTarget_BA, RTmeanTarget_Hit, RTmedTarget_Hit]\n\n            if count == 1:\n                summaryNback_list = summaryNback_dat\n                count = count + 1\n            else:\n                summaryNback_list = np.row_stack((summaryNback_list, summaryNback_dat))\n                count = count + 1\n\n    else:\n        summaryNback_list = 'no files'\n\n    return summaryNback_list\n"
    ],
    [
        "needed_outputs",
        [
            "summaryNback_dat"
        ]
    ]
]