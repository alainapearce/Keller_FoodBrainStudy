Node: summaryData (utility)
===========================


 Hierarchy : Nback.summaryData
 Exec ID : summaryData.a1


Original Inputs
---------------


* Nback_file : [['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-028/ses-2/beh/sub-028_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-028/ses-2/beh/sub-028_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-028/ses-2/beh/sub-028_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-022/ses-2/beh/sub-022_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-022/ses-2/beh/sub-022_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-022/ses-2/beh/sub-022_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-007/ses-2/beh/sub-007_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-007/ses-2/beh/sub-007_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-007/ses-2/beh/sub-007_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-026/ses-2/beh/sub-026_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-026/ses-2/beh/sub-026_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-026/ses-2/beh/sub-026_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-006/ses-2/beh/sub-006_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-006/ses-2/beh/sub-006_ses-2_task-nback1_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-005/ses-2/beh/sub-005_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-005/ses-2/beh/sub-005_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-005/ses-2/beh/sub-005_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-002/ses-2/beh/sub-002_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-002/ses-2/beh/sub-002_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-002/ses-2/beh/sub-002_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-023/ses-2/beh/sub-023_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-023/ses-2/beh/sub-023_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-023/ses-2/beh/sub-023_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-037/ses-2/beh/sub-037_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-037/ses-2/beh/sub-037_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-037/ses-2/beh/sub-037_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-018/ses-2/beh/sub-018_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-018/ses-2/beh/sub-018_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-018/ses-2/beh/sub-018_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-003/ses-2/beh/sub-003_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-003/ses-2/beh/sub-003_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-003/ses-2/beh/sub-003_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-040/ses-2/beh/sub-040_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-040/ses-2/beh/sub-040_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-040/ses-2/beh/sub-040_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-035/ses-2/beh/sub-035_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-035/ses-2/beh/sub-035_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-035/ses-2/beh/sub-035_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-011/ses-2/beh/sub-011_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-011/ses-2/beh/sub-011_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-011/ses-2/beh/sub-011_ses-2_task-nback2_events.tsv']]
* function_str : def summaryNback(Nback_file):
    import numpy as np
    import pandas as pd
    from collections.abc import Iterable

    #check if str
    if isinstance(Nback_file, str):

        #check to see if it is filepath str or 'No subfiles' message
        if '.tsv' in Nback_file:
            #if only 1 file, will be string and we want an array
            Nback_file = [Nback_file]
        else:
            Nback_file = []

    if len(Nback_file) > 0:

        #loop counter
        count = 1

        for file in Nback_file:

            #load data - loop throgh participant blockfiles
            Nback_ProcData = pd.read_csv(str(file), sep = '\t', encoding = 'utf-8-sig', engine='python') 

            #make Acc_Resp column
            Nback_ProcData.fillna('', inplace=True)

            Nback_ProcData.columns = Nback_ProcData.columns.str.replace('b0_', '')
            Nback_ProcData.columns = Nback_ProcData.columns.str.replace('b1_', '')
            Nback_ProcData.columns = Nback_ProcData.columns.str.replace('b2_', '')

            Nback_ProcData['acc_resp'] = np.where(Nback_ProcData['correct'] == Nback_ProcData['stim_resp'], 1, 0)

            Nback_ProcData['procedure_block'] = Nback_ProcData['procedure_block'].replace(['B0BlockProc','B0Block2Proc'],'b0')
            Nback_ProcData['procedure_block'] = Nback_ProcData['procedure_block'].replace(['B1BlockProc','B1Block2Proc'],'b1')
            Nback_ProcData['procedure_block'] = Nback_ProcData['procedure_block'].replace(['B2BlockProc','B2Block2Proc'],'b2')

            #get target and fill datasets
            Nback_Target = Nback_ProcData.groupby('condition').get_group('Target')
            Nback_Fill = Nback_ProcData.groupby('condition').get_group('Fill')

            #trial counts
            nTarget = Nback_Target.shape[0]
            nFill = Nback_Fill.shape[0]
            nTrials = nTarget + nFill

            #Accuracy
            nAcc = Nback_Target['acc_resp'].sum(axis = 0) + Nback_Fill['acc_resp'].sum(axis = 0)
            pAcc = (nAcc/nTrials)*100

            #Go Hits/Misses 
            nTarget_Hit = Nback_Target['acc_resp'].sum(axis = 0)
            pTarget_Hit = (nTarget_Hit/nTarget)*100

            nTarget_Miss = nTarget - nTarget_Hit
            pTarget_Miss = (nTarget_Miss/nTarget)*100

            #NoGo Commissions (False Alarms)
            nFill_Corr = Nback_Fill['acc_resp'].sum(axis = 0)
            pFill_Corr = (nFill_Corr/nFill)*100

            nFill_FA = nFill - nFill_Corr
            pFill_FA = (nFill_FA/nFill)*100

            #Ballanced Acc
            pTarget_BA = (pTarget_Hit + pFill_Corr)/2

            #mean and median RT
            Nback_Target_correct = Nback_Target.groupby('acc_resp').get_group(1)

            RTmeanTarget_Hit = Nback_Target_correct['stim_rt'].mean(axis = 0)
            RTmedTarget_Hit = Nback_Target_correct['stim_rt'].median(axis = 0)

            summaryNback_dat = [Nback_ProcData['sub'][0], Nback_ProcData['ses'][0], Nback_ProcData['procedure_block'][0], nTarget, nFill, nTrials, nAcc, pAcc, nTarget_Hit, pTarget_Hit, nTarget_Miss, pTarget_Miss, nFill_Corr, pFill_Corr, nFill_FA, pFill_FA, pTarget_BA, RTmeanTarget_Hit, RTmedTarget_Hit]

            if count == 1:
                summaryNback_list = summaryNback_dat
                count = count + 1
            else:
                summaryNback_list = np.row_stack((summaryNback_list, summaryNback_dat))
                count = count + 1

    else:
        summaryNback_list = 'no files'

    return summaryNback_list



Execution Inputs
----------------


* Nback_file : [['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-028/ses-2/beh/sub-028_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-028/ses-2/beh/sub-028_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-028/ses-2/beh/sub-028_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-022/ses-2/beh/sub-022_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-022/ses-2/beh/sub-022_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-022/ses-2/beh/sub-022_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-007/ses-2/beh/sub-007_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-007/ses-2/beh/sub-007_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-007/ses-2/beh/sub-007_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-026/ses-2/beh/sub-026_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-026/ses-2/beh/sub-026_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-026/ses-2/beh/sub-026_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-006/ses-2/beh/sub-006_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-006/ses-2/beh/sub-006_ses-2_task-nback1_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-005/ses-2/beh/sub-005_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-005/ses-2/beh/sub-005_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-005/ses-2/beh/sub-005_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-002/ses-2/beh/sub-002_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-002/ses-2/beh/sub-002_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-002/ses-2/beh/sub-002_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-023/ses-2/beh/sub-023_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-023/ses-2/beh/sub-023_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-023/ses-2/beh/sub-023_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-037/ses-2/beh/sub-037_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-037/ses-2/beh/sub-037_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-037/ses-2/beh/sub-037_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-018/ses-2/beh/sub-018_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-018/ses-2/beh/sub-018_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-018/ses-2/beh/sub-018_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-003/ses-2/beh/sub-003_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-003/ses-2/beh/sub-003_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-003/ses-2/beh/sub-003_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-040/ses-2/beh/sub-040_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-040/ses-2/beh/sub-040_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-040/ses-2/beh/sub-040_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-035/ses-2/beh/sub-035_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-035/ses-2/beh/sub-035_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-035/ses-2/beh/sub-035_ses-2_task-nback2_events.tsv'], ['/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-011/ses-2/beh/sub-011_ses-2_task-nback0_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-011/ses-2/beh/sub-011_ses-2_task-nback1_events.tsv', '/Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/raw_data/sub-011/ses-2/beh/sub-011_ses-2_task-nback2_events.tsv']]
* function_str : def summaryNback(Nback_file):
    import numpy as np
    import pandas as pd
    from collections.abc import Iterable

    #check if str
    if isinstance(Nback_file, str):

        #check to see if it is filepath str or 'No subfiles' message
        if '.tsv' in Nback_file:
            #if only 1 file, will be string and we want an array
            Nback_file = [Nback_file]
        else:
            Nback_file = []

    if len(Nback_file) > 0:

        #loop counter
        count = 1

        for file in Nback_file:

            #load data - loop throgh participant blockfiles
            Nback_ProcData = pd.read_csv(str(file), sep = '\t', encoding = 'utf-8-sig', engine='python') 

            #make Acc_Resp column
            Nback_ProcData.fillna('', inplace=True)

            Nback_ProcData.columns = Nback_ProcData.columns.str.replace('b0_', '')
            Nback_ProcData.columns = Nback_ProcData.columns.str.replace('b1_', '')
            Nback_ProcData.columns = Nback_ProcData.columns.str.replace('b2_', '')

            Nback_ProcData['acc_resp'] = np.where(Nback_ProcData['correct'] == Nback_ProcData['stim_resp'], 1, 0)

            Nback_ProcData['procedure_block'] = Nback_ProcData['procedure_block'].replace(['B0BlockProc','B0Block2Proc'],'b0')
            Nback_ProcData['procedure_block'] = Nback_ProcData['procedure_block'].replace(['B1BlockProc','B1Block2Proc'],'b1')
            Nback_ProcData['procedure_block'] = Nback_ProcData['procedure_block'].replace(['B2BlockProc','B2Block2Proc'],'b2')

            #get target and fill datasets
            Nback_Target = Nback_ProcData.groupby('condition').get_group('Target')
            Nback_Fill = Nback_ProcData.groupby('condition').get_group('Fill')

            #trial counts
            nTarget = Nback_Target.shape[0]
            nFill = Nback_Fill.shape[0]
            nTrials = nTarget + nFill

            #Accuracy
            nAcc = Nback_Target['acc_resp'].sum(axis = 0) + Nback_Fill['acc_resp'].sum(axis = 0)
            pAcc = (nAcc/nTrials)*100

            #Go Hits/Misses 
            nTarget_Hit = Nback_Target['acc_resp'].sum(axis = 0)
            pTarget_Hit = (nTarget_Hit/nTarget)*100

            nTarget_Miss = nTarget - nTarget_Hit
            pTarget_Miss = (nTarget_Miss/nTarget)*100

            #NoGo Commissions (False Alarms)
            nFill_Corr = Nback_Fill['acc_resp'].sum(axis = 0)
            pFill_Corr = (nFill_Corr/nFill)*100

            nFill_FA = nFill - nFill_Corr
            pFill_FA = (nFill_FA/nFill)*100

            #Ballanced Acc
            pTarget_BA = (pTarget_Hit + pFill_Corr)/2

            #mean and median RT
            Nback_Target_correct = Nback_Target.groupby('acc_resp').get_group(1)

            RTmeanTarget_Hit = Nback_Target_correct['stim_rt'].mean(axis = 0)
            RTmedTarget_Hit = Nback_Target_correct['stim_rt'].median(axis = 0)

            summaryNback_dat = [Nback_ProcData['sub'][0], Nback_ProcData['ses'][0], Nback_ProcData['procedure_block'][0], nTarget, nFill, nTrials, nAcc, pAcc, nTarget_Hit, pTarget_Hit, nTarget_Miss, pTarget_Miss, nFill_Corr, pFill_Corr, nFill_FA, pFill_FA, pTarget_BA, RTmeanTarget_Hit, RTmedTarget_Hit]

            if count == 1:
                summaryNback_list = summaryNback_dat
                count = count + 1
            else:
                summaryNback_list = np.row_stack((summaryNback_list, summaryNback_dat))
                count = count + 1

    else:
        summaryNback_list = 'no files'

    return summaryNback_list



Execution Outputs
-----------------


* summaryNback_dat : [array([['28', '2', 'b0', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '506.0', '488.0'],
       ['28', '2', 'b1', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '549.5', '534.5'],
       ['28', '2', 'b2', '16', '44', '60', '58', '96.66666666666667',
        '14', '87.5', '2', '12.5', '44', '100.0', '0', '0.0', '93.75',
        '673.6428571428571', '689.5']], dtype='<U32'), array([['22', '2', 'b0', '16', '44', '60', '59', '98.33333333333333',
        '15', '93.75', '1', '6.25', '44', '100.0', '0', '0.0', '96.875',
        '717.6666666666666', '673.0'],
       ['22', '2', 'b1', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '817.3125',
        '824.0'],
       ['22', '2', 'b2', '16', '44', '60', '53', '88.33333333333333',
        '11', '68.75', '5', '31.25', '42', '95.45454545454545', '2',
        '4.545454545454546', '82.10227272727272', '837.2727272727273',
        '699.0']], dtype='<U32'), array([['7', '2', 'b0', '16', '44', '60', '59', '98.33333333333333',
        '16', '100.0', '0', '0.0', '43', '97.72727272727273', '1',
        '2.272727272727273', '98.86363636363637', '737.875', '690.5'],
       ['7', '2', 'b1', '16', '44', '60', '58', '96.66666666666667',
        '15', '93.75', '1', '6.25', '43', '97.72727272727273', '1',
        '2.272727272727273', '95.73863636363637', '670.0666666666667',
        '631.0'],
       ['7', '2', 'b2', '16', '44', '60', '50', '83.33333333333334',
        '15', '93.75', '1', '6.25', '35', '79.54545454545455', '9',
        '20.454545454545457', '86.64772727272728', '1145.2', '1001.0']],
      dtype='<U32'), array([['26', '2', 'b0', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '733.25',
        '748.0'],
       ['26', '2', 'b1', '16', '44', '60', '58', '96.66666666666667',
        '15', '93.75', '1', '6.25', '43', '97.72727272727273', '1',
        '2.272727272727273', '95.73863636363637', '828.3333333333334',
        '769.0'],
       ['26', '2', 'b2', '16', '44', '60', '55', '91.66666666666666',
        '12', '75.0', '4', '25.0', '43', '97.72727272727273', '1',
        '2.272727272727273', '86.36363636363637', '933.4166666666666',
        '1009.0']], dtype='<U32'), array([['6', '2', 'b0', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '490.375',
        '461.0'],
       ['6', '2', 'b1', '16', '44', '60', '59', '98.33333333333333',
        '16', '100.0', '0', '0.0', '43', '97.72727272727273', '1',
        '2.272727272727273', '98.86363636363637', '655.1875', '648.0']],
      dtype='<U32'), array([['5', '2', 'b0', '16', '44', '60', '59', '98.33333333333333',
        '16', '100.0', '0', '0.0', '43', '97.72727272727273', '1',
        '2.272727272727273', '98.86363636363637', '554.4375', '562.0'],
       ['5', '2', 'b1', '16', '44', '60', '58', '96.66666666666667',
        '16', '100.0', '0', '0.0', '42', '95.45454545454545', '2',
        '4.545454545454546', '97.72727272727272', '782.25', '754.5'],
       ['5', '2', 'b2', '16', '44', '60', '58', '96.66666666666667',
        '15', '93.75', '1', '6.25', '43', '97.72727272727273', '1',
        '2.272727272727273', '95.73863636363637', '1008.8', '974.0']],
      dtype='<U32'), array([['2', '2', 'b0', '16', '44', '60', '59', '98.33333333333333',
        '15', '93.75', '1', '6.25', '44', '100.0', '0', '0.0', '96.875',
        '642.2', '620.0'],
       ['2', '2', 'b1', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '690.125',
        '768.0'],
       ['2', '2', 'b2', '16', '44', '60', '51', '85.0', '10', '62.5',
        '6', '37.5', '41', '93.18181818181817', '3',
        '6.8181818181818175', '77.8409090909091', '829.2', '676.0']],
      dtype='<U32'), array([['23', '2', 'b0', '16', '44', '60', '59', '98.33333333333333',
        '15', '93.75', '1', '6.25', '44', '100.0', '0', '0.0', '96.875',
        '1002.0', '981.0'],
       ['23', '2', 'b1', '16', '44', '60', '58', '96.66666666666667',
        '14', '87.5', '2', '12.5', '44', '100.0', '0', '0.0', '93.75',
        '831.2857142857143', '858.0'],
       ['23', '2', 'b2', '16', '44', '60', '52', '86.66666666666667',
        '14', '87.5', '2', '12.5', '38', '86.36363636363636', '6',
        '13.636363636363635', '86.93181818181819', '1001.9285714285714',
        '968.5']], dtype='<U32'), array([['37', '2', 'b0', '16', '44', '60', '58', '96.66666666666667',
        '16', '100.0', '0', '0.0', '42', '95.45454545454545', '2',
        '4.545454545454546', '97.72727272727272', '725.1875', '722.5'],
       ['37', '2', 'b1', '16', '44', '60', '59', '98.33333333333333',
        '15', '93.75', '1', '6.25', '44', '100.0', '0', '0.0', '96.875',
        '810.0', '756.0'],
       ['37', '2', 'b2', '16', '44', '60', '44', '73.33333333333333',
        '11', '68.75', '5', '31.25', '33', '75.0', '11', '25.0',
        '71.875', '822.0909090909091', '863.0']], dtype='<U32'), array([['18', '2', 'b0', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '589.0625',
        '573.0'],
       ['18', '2', 'b1', '16', '44', '60', '57', '95.0', '15', '93.75',
        '1', '6.25', '42', '95.45454545454545', '2', '4.545454545454546',
        '94.60227272727272', '614.6666666666666', '568.0'],
       ['18', '2', 'b2', '16', '44', '60', '59', '98.33333333333333',
        '15', '93.75', '1', '6.25', '44', '100.0', '0', '0.0', '96.875',
        '619.7333333333333', '547.0']], dtype='<U32'), array([['3', '2', 'b0', '16', '44', '60', '59', '98.33333333333333',
        '16', '100.0', '0', '0.0', '43', '97.72727272727273', '1',
        '2.272727272727273', '98.86363636363637', '582.6875', '586.5'],
       ['3', '2', 'b1', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '625.9375',
        '570.5'],
       ['3', '2', 'b2', '16', '44', '60', '56', '93.33333333333333',
        '15', '93.75', '1', '6.25', '41', '93.18181818181817', '3',
        '6.8181818181818175', '93.4659090909091', '812.0', '798.0']],
      dtype='<U32'), array([['40', '2', 'b0', '16', '44', '60', '58', '96.66666666666667',
        '16', '100.0', '0', '0.0', '42', '95.45454545454545', '2',
        '4.545454545454546', '97.72727272727272', '535.375', '510.0'],
       ['40', '2', 'b1', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '543.3125',
        '535.0'],
       ['40', '2', 'b2', '16', '44', '60', '56', '93.33333333333333',
        '12', '75.0', '4', '25.0', '44', '100.0', '0', '0.0', '87.5',
        '621.6666666666666', '546.0']], dtype='<U32'), array([['35', '2', 'b0', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '656.375',
        '638.0'],
       ['35', '2', 'b1', '16', '44', '60', '57', '95.0', '13', '81.25',
        '3', '18.75', '44', '100.0', '0', '0.0', '90.625',
        '888.3076923076923', '875.0'],
       ['35', '2', 'b2', '16', '44', '60', '54', '90.0', '10', '62.5',
        '6', '37.5', '44', '100.0', '0', '0.0', '81.25', '968.6',
        '934.5']], dtype='<U32'), array([['11', '2', 'b0', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '462.875',
        '446.5'],
       ['11', '2', 'b1', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '545.875',
        '493.0'],
       ['11', '2', 'b2', '16', '44', '60', '60', '100.0', '16', '100.0',
        '0', '0.0', '44', '100.0', '0', '0.0', '100.0', '541.0625',
        '559.0']], dtype='<U32')]


Subnode reports
---------------


 subnode 0 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData0/_report/report.rst
 subnode 1 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData1/_report/report.rst
 subnode 2 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData2/_report/report.rst
 subnode 3 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData3/_report/report.rst
 subnode 4 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData4/_report/report.rst
 subnode 5 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData5/_report/report.rst
 subnode 6 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData6/_report/report.rst
 subnode 7 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData7/_report/report.rst
 subnode 8 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData8/_report/report.rst
 subnode 9 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData9/_report/report.rst
 subnode 10 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData10/_report/report.rst
 subnode 11 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData11/_report/report.rst
 subnode 12 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData12/_report/report.rst
 subnode 13 : /Users/azp271/OneDrive - The Pennsylvania State University/b-childfoodlab_Shared/Active_Studies/RO1_Brain_Mechanisms_IRB_5357/Participant_Data/BIDSdat/Nback/_session_id_2/summaryData/mapflow/_summaryData13/_report/report.rst

